@if (banners().length) {
  <div class="carousel__viewport" role="region" aria-roledescription="carousel" aria-label="Banner carousel">
    <div
      class="carousel__track"
      [style.transform]="'translateX(' + translateX() + 'px)'"
      [class.carousel__track--transitioning]="isTransitioning()"
      (transitionend)="onTransitionEnd()"
    >
      @for (slide of slides(); track $index; let i = $index) {
        <div
          class="carousel__slide"
          [style.background-image]="'url(' + slide.backgroundImage + ')'"
          role="group"
          aria-roledescription="slide"
          [attr.aria-label]="'Slide ' + (i) + ' of ' + slideCount()"
          [attr.aria-hidden]="i === 0 || i === slides().length - 1 ? 'true' : null"
        >
          @if (slide.mainImage) {
            <img
              class="carousel__image"
              [ngSrc]="slide.mainImage"
              [alt]="slide.title"
              width="240"
              height="240"
            />
          }
          <div class="carousel__content">
            <h2 class="carousel__title">{{ slide.title }}</h2>
            <p class="carousel__text">@for (seg of slide.text | highlightText; track $index) {<span [class.carousel__highlight]="seg.highlight">{{ seg.text }}</span>}</p>
            <app-button
              class="carousel__btn"
              variant="outline"
              [ariaLabel]="slide.buttonText"
            >
              {{ slide.buttonText }}
            </app-button>
          </div>
        </div>
      }
    </div>

  </div>
}
